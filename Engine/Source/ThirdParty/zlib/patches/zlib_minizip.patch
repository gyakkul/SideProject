--- zlib/1.2.12/CMakeLists.txt	2022-05-09 18:28:52.000000000 -0400
+++ zlib/1.2.12/CMakeLists.txt	2022-05-09 18:28:52.000000000 -0400
@@ -8,6 +8,8 @@
 option(ASM686 "Enable building i686 assembly implementation")
 option(AMD64 "Enable building amd64 assembly implementation")

+option(MINIZIP "Enable building MiniZip")
+
 set(INSTALL_BIN_DIR "${CMAKE_INSTALL_PREFIX}/bin" CACHE PATH "Installation directory for executables")
 set(INSTALL_LIB_DIR "${CMAKE_INSTALL_PREFIX}/lib" CACHE PATH "Installation directory for libraries")
 set(INSTALL_INC_DIR "${CMAKE_INSTALL_PREFIX}/include" CACHE PATH "Installation directory for headers")
@@ -162,6 +164,14 @@
        endif()
 endif()

+if(MINIZIP)
+       set(ZLIB_SRCS ${ZLIB_SRCS}
+               contrib/minizip/zip.c
+               contrib/minizip/ioapi.c
+               contrib/minizip/unzip.c
+       )
+endif()
+
 # parse the full version number from zlib.h and include in ZLIB_FULL_VERSION
 file(READ ${CMAKE_CURRENT_SOURCE_DIR}/zlib.h _zlib_h_contents)
 string(REGEX REPLACE ".*#define[ \t]+ZLIB_VERSION[ \t]+\"([-0-9A-Za-z.]+)\".*"